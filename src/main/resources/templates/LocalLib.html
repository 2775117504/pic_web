<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>本地图库</title>
</head>
<style>
    body {
        margin: 0;
        padding: 0;
        height: 100vh;
        background-color: #333;
    }
    li:hover {
        color: white;
        text-shadow:
                -14px -1px 8px rgba(255, 255, 255, 0.79),
                1px -1px 6px rgba(255, 255, 255, 0.79),
                12px  1px 6px rgba(255, 255, 255, 0.79),
                1px  1px 6px rgba(255, 255, 255, 0.79);
    }
    .all_img_tags{
        border: white 1px solid;
        position: absolute;
        left: 10px;
        top: 150px;
        transform: translateY(-50px);
    }
    .temp_img{
        cursor: pointer;  //鼠标样式变成手型，表示此处能点击的一种提示
    }
    .temp_img:hover{
        color: white;
        text-shadow:
                -14px -1px 8px rgba(255, 255, 255, 0.79),
                1px -1px 6px rgba(255, 255, 255, 0.79),
                12px  1px 6px rgba(255, 255, 255, 0.79),
                1px  1px 6px rgba(255, 255, 255, 0.79);
   }
    .img_show{
        border: white 1px solid;
        position: absolute;
        margin-left: 250px;
        width: 1244px;
        height: 800px;
        top: 150px;
        transform: translateY(-50px);
    }
</style>
<body style="background-color: rgba(0,0,0,0.67)">
<div>
    <div id="all_img_tags" class="all_img_tags">
        <h3 id="temp_img" class="temp_img">临时存放区</h3>
        <ul>
            <li id="tag1">
                <a href="#" id="25">kantoku</a>
            </li>

            <li>
                <a href="#" id="23">artist</a>
            </li>
        </ul>
    </div>
    <div id="img_show" class="img_show">
            <img src="/uploads/1657684976584.jpg" style="border: 1px solid white; width: 160px; height: 190px; object-fit: contain; margin: 0px 8px;"><img src="/uploads/1691325756271.png" style="border: 1px solid white; width: 160px; height: 190px; object-fit: contain; margin: 0px 8px;"><img src="/uploads/23.jpg" style="border: 1px solid white; width: 160px; height: 190px; object-fit: contain; margin: 0px 8px;"><img src="/uploads/423a18b3dc3a7985f1d26c34819db5a0ac33efbe.png" style="border: 1px solid white; width: 160px; height: 190px; object-fit: contain; margin: 0px 8px;"><img src="/uploads/50ad45bc2e7c84caad7afe614d159fa70068601f.png" style="border: 1px solid white; width: 160px; height: 190px; object-fit: contain; margin: 0px 8px;"><img src="/uploads/5338_render_499_death_note.png" style="border: 1px solid white; width: 160px; height: 190px; object-fit: contain; margin: 0px 8px;"><img src="/uploads/5d773114233208e846001d9e450ec43586763ef5.png" style="border: 1px solid white; width: 160px; height: 190px; object-fit: contain; margin: 0px 8px;"><img src="/uploads/87c264a416eff5595cd3594ff026c6b7bd5cd58f.png" style="border: 1px solid white; width: 160px; height: 190px; object-fit: contain; margin: 0px 8px;"><img src="/uploads/GHjL93tbkAAQLQA.jpg" style="border: 1px solid white; width: 160px; height: 190px; object-fit: contain; margin: 0px 8px;"><img src="/uploads/GLIk4WWaEAAb8Sn.jpg" style="border: 1px solid white; width: 160px; height: 190px; object-fit: contain; margin: 0px 8px;"><img src="/uploads/GLXs2ocasAAxnd2.jpg" style="border: 1px solid white; width: 160px; height: 190px; object-fit: contain; margin: 0px 8px;"><img src="/uploads/Record_of_Lodoss_War_PC98_0001.jpg" style="border: 1px solid white; width: 160px; height: 190px; object-fit: contain; margin: 0px 8px;"><img src="/uploads/Sorcerer_Magazine_008.jpg" style="border: 1px solid white; width: 160px; height: 190px; object-fit: contain; margin: 0px 8px;"><img src="/uploads/d648ca268ce37cb9a7ae8a76127b6fd3.jpg" style="border: 1px solid white; width: 160px; height: 190px; object-fit: contain; margin: 0px 8px;"><img src="/uploads/mi-qi-emma-6.jpg" style="border: 1px solid white; width: 160px; height: 190px; object-fit: contain; margin: 0px 8px;"><img src="/uploads/panties-nekomimi-animal-ears-1rYy.jpg" style="border: 1px solid white; width: 160px; height: 190px; object-fit: contain; margin: 0px 8px;"><img src="/uploads/pg_003.jpg" style="border: 1px solid white; width: 160px; height: 190px; object-fit: contain; margin: 0px 8px;"><img src="/uploads/photo_2022-12-07_15-34-07.jpg" style="border: 1px solid white; width: 160px; height: 190px; object-fit: contain; margin: 0px 8px;"><img src="/uploads/photo_2023-12-01_20-18-46.jpg" style="border: 1px solid white; width: 160px; height: 190px; object-fit: contain; margin: 0px 8px;"><img src="/uploads/th.jpg" style="border: 1px solid white; width: 160px; height: 190px; object-fit: contain; margin: 0px 8px;"><img src="/uploads/z.jpg" style="border: 1px solid white; width: 160px; height: 190px; object-fit: contain; margin: 0px 8px;"><img src="/uploads/屏幕截图 2023-08-22 150920.png" style="border: 1px solid white; width: 160px; height: 190px; object-fit: contain; margin: 0px 8px;"><img src="/uploads/屏幕截图 2023-09-22 125852.png" style="border: 1px solid white; width: 160px; height: 190px; object-fit: contain; margin: 0px 8px;"><img src="/uploads/屏幕截图 2023-09-22 125948.png" style="border: 1px solid white; width: 160px; height: 190px; object-fit: contain; margin: 0px 8px;"><img src="/uploads/屏幕截图 2023-09-26 092228.png" style="border: 1px solid white; width: 160px; height: 190px; object-fit: contain; margin: 0px 8px;"><img src="/uploads/屏幕截图 2023-09-26 093356.png" style="border: 1px solid white; width: 160px; height: 190px; object-fit: contain; margin: 0px 8px;"><img src="/uploads/微信图片_20231222220649.jpg" style="border: 1px solid white; width: 160px; height: 190px; object-fit: contain; margin: 0px 8px;"></div>
    </div>

</div>
</body>
<script>
    // 点击标签跳转
    document.getElementById("25").addEventListener("click", function (e) {
        e.preventDefault(); // 阻止表单默认提交
        const formData = new FormData();
        const tag=document.getElementById("25").innerText;
        alert(tag);
        formData.append("tag", tag);
        fetch("/LocalLib?tag="+encodeURIComponent(tag), {
            method: "GET"
        })
            .then(response => response.json())
            .then(data => {
                console.log(data);
            })
            .catch(error => {
                console.error(error);
            });
    })
    //点击临时存放区跳转
    document.getElementById("temp_img").addEventListener("click", function (e) {
        e.preventDefault();
        fetch("/LocalLib/temp", {
            method: "GET"
        })
            .then(response => response.json())
            .then(data => {
                console.log(data);
                for (let i = 0; i < data.tempUrl.length; i++){
                    const img = document.createElement("img");
                    if (!data.tempUrl[i].includes("\\")){
                        img.src = "/uploads/"+data.tempUrl[i];
                        img.style.border = "white 1px solid";
                        img.style.width = "160px";
                        img.style.height = "190px";
                        img.style.objectFit = "contain";
                        img.style.margin = "0px 8px";
                    }else {
                        const SourceUrl = data.tempUrl[i].substring(3);
                        img.src = "/img/" + SourceUrl /*表示 FileReader 已经读取完文件后返回的数据（通常是 Base64 编码的图片数据）*/
                        img.style.border = "white 1px solid";
                        img.style.width = "160px";
                        img.style.height = "190px";
                        img.style.objectFit = "contain";
                        img.style.margin = "0px 8px";
                    }
                    document.getElementById("img_show").appendChild(img);
                }

            })
            .catch(error => {
                console.error(error);
            });

    })
</script>
</html>